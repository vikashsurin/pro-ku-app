(this.webpackJsonpclient2=this.webpackJsonpclient2||[]).push([[0],{41:function(e,t,a){e.exports=a(70)},50:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),o=a.n(c),l=a(2),s=a(4),i=a(17),u=(a(50),a(40)),p=Object(l.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.isLoading,o=Object(u.a)(e,["component","auth"]);return r.a.createElement(i.b,Object.assign({},o,{render:function(e){return n||c?r.a.createElement(t,e):r.a.createElement(i.a,{to:"/login"})}}))})),m=a(1),f=a.n(m),d=a(6),v=a(7),E=a.n(v),b=function(e){e?E.a.defaults.headers.common["x-auth-token"]=e:delete E.a.defaults.headers.common["x-auth-token"]},h=function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=localStorage.getItem("token"))&&b(a),e.prev=2,e.next=5,E.a.get("/api/auth");case 5:n=e.sent,t({type:"USER_LOADED",payload:n.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0.message),t({type:"AUTH_ERROR"});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},O=Object(l.b)((function(e){return{auth:e.auth}}),{logout:function(e){return function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.history.go(2);case 2:t({type:"LOGOUT"}),t({type:"CLEAR_PROFILE"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Object(i.g)((function(e){var t=e.auth,a=t.isAuthenticated,c=t.isLoading,o=e.logout,l=e.history,i=r.a.createElement("div",{className:"navbar"},r.a.createElement(s.b,{className:"navlink",to:"/"},"Home")," ",r.a.createElement(s.b,{className:"navlink",to:"/posts"},"Posts")," ",r.a.createElement(s.b,{className:"navlink",to:"/dashboard"},"dashboard")," ",r.a.createElement(s.b,{className:"navlink",to:"/logout",onClick:function(){o(l)}},"logOut")),u=r.a.createElement("div",{className:"navbar"},r.a.createElement(s.b,{className:"navlink",to:"/"},"Home")," ",r.a.createElement(s.b,{className:"navlink",to:"/posts"},"Posts"," "),r.a.createElement(s.b,{className:"navlink",to:"/auth"},"Login/Register"," ")," ");return r.a.createElement(n.Fragment,null,!c&&a?i:u)}))),g=Object(l.b)((function(e){return e}))((function(e){return r.a.createElement("div",{className:"landing"},r.a.createElement("div",null,r.a.createElement("span",null,"T"),r.a.createElement("span",null,"hroughout years the way of doing things have advanced themselves drastically , whether it be medical science , technical science and the list goes onn....yes, I mean the internet is doing great wonders .")),r.a.createElement("div",null,r.a.createElement("span",null,"D"),r.a.createElement("span",null,"o you think the way of learning should have a positive effect of the internet , here we begin - just let\u2019s give it a try ...")),r.a.createElement("div",null,r.a.createElement("span",null,"T"),r.a.createElement("span",null,"he concept of the app is based on a very simple yet effective action : \u201cDebate\u201d - check it out .")),r.a.createElement("div",{className:"footer"},r.a.createElement("a",{href:""},"link")))})),y=a(5),j=a(8);function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var P=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{login:function(e){var t=e.email,a=e.password;return function(){var e=Object(d.a)(f.a.mark((function e(n){var r,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:t,password:a}),e.prev=2,e.next=5,E.a.post("/api/auth",c,r);case 5:o=e.sent,n({type:"LOGIN_SUCCESS",payload:o.data}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0.message),n({type:"LOGIN_FAIL"});case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.login,c=Object(n.useState)({email:"",password:""}),o=Object(j.a)(c,2),l=o[0],s=o[1],u=l.email,p=l.password,m=function(e){s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,Object(y.a)({},e.target.name,e.target.value)))};return t?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"login",onSubmit:function(e){return function(e){e.preventDefault(),a(l)}(e)}},r.a.createElement("input",{name:"email",type:"text",value:u,onChange:function(e){return m(e)},placeholder:"Enter Email"}),r.a.createElement("input",{name:"password",type:"password",value:p,onChange:function(e){return m(e)},placeholder:"******"}),r.a.createElement("button",{type:"submit",value:"Login"},"submit")))}));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var N=Object(l.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(d.a)(f.a.mark((function e(r){var c,o,l,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},o=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,E.a.post("/api/users",o,c);case 5:l=e.sent,r({type:"REGISTER_SUCCESS",payload:l.data}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),s=e.t0.response.data.errors,console.error(s),r({type:"REGISTER_FAIL"});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.isAuthenticated,a=e.register,c=Object(n.useState)({name:"",email:"",password:"",password2:""}),o=Object(j.a)(c,2),l=o[0],s=o[1],u=l.name,p=l.email,m=l.password,f=l.password2,d=function(e){s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,Object(y.a)({},e.target.name,e.target.value)))};return t?r.a.createElement(i.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"register",onSubmit:function(e){return function(e){e.preventDefault(),a(l),console.log("registered")}(e)}},r.a.createElement("input",{name:"name",type:"text",value:u,onChange:function(e){return d(e)},placeholder:"Enter Name"}),r.a.createElement("input",{name:"email",type:"text",value:p,onChange:function(e){return d(e)},placeholder:"Enter Email"}),r.a.createElement("input",{name:"password",type:"password",value:m,onChange:function(e){return d(e)},placeholder:"******"}),r.a.createElement("input",{name:"password2",type:"password",value:f,onChange:function(e){return d(e)},placeholder:"******"}),r.a.createElement("button",{type:"submit",value:"Register"},"submit")))})),S=function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/posts");case 3:a=e.sent,t({type:"GET_POSTS",payload:a.data}),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message),t({type:"POST_ERROR"});case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){var a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.token,b(a),e.prev=2,e.next=5,E.a.get("/api/profiles/me");case 5:n=e.sent,t({type:"CURRENT_PROFILE",payload:n.data}),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0.message),t({type:"PROFILE_ERROR"}),t({type:"CLEAR_PROFILE"});case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},x=Object(l.b)((function(e){return{auth:e.auth,profile:e.profile,user:e.auth.user,posts:e.posts}}),{loadUser:h,getCurrentProfile:R,getPosts:S,removePost:function(e){return function(){var t=Object(d.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.delete("/api/posts/".concat(e));case 3:t.sent,a({type:"REMOVE_POST",payload:e}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.message),a({type:"POST_ERROR"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},deleteAccount:function(){return function(){var e=Object(d.a)(f.a.mark((function e(t){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.token,e.prev=1,b(a),e.next=5,E.a.delete("/api/profiles");case 5:t({type:"CLEAR_PROFILE"}),t({type:"ACCOUNT_DELETED"}),console.log("i was called"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0.message),t({type:"PROFILE_ERROR"});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.getPosts,a=e.loadUser,c=e.deleteAccount,o=e.auth.isAutheticated,l=e.profile,i=l.profile,u=l.isLoading,p=e.getCurrentProfile,m=e.removePost,f=e.user,d=e.posts.posts;Object(n.useEffect)((function(){p()}),[o]),Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){a()}),[]);var v=f?d.filter((function(e){return e.user===f._id})):"",E=f&&d?v.map((function(e){return r.a.createElement("div",{className:"dash-p-lst",key:e._id},r.a.createElement("span",null,e.title),r.a.createElement("button",{onClick:function(t){return m(e._id)}},"delete"))})):r.a.createElement("div",null,"loading");return i?!0===u&&null===i?r.a.createElement("div",{className:"loading"},r.a.createElement("div",null,"loading"),r.a.createElement("div",null),r.a.createElement("div",null)):r.a.createElement("div",{className:"dashboard"},r.a.createElement("div",{className:"prop-list"},r.a.createElement("div",{className:"prop-val"},r.a.createElement("div",null,"Name :")," ",r.a.createElement("div",null,i.universityName)),r.a.createElement("div",{className:"prop-val"},r.a.createElement("div",null,"Role :")," ",r.a.createElement("div",null,i.role)),r.a.createElement("div",{className:"prop-val"},r.a.createElement("div",null,"Course :")," ",r.a.createElement("div",null,i.course)),r.a.createElement("div",{className:"prop-val"},r.a.createElement("div",null,"UniversityName :")," ",r.a.createElement("div",null,i.universityName)),r.a.createElement("div",{className:"prop-val"},r.a.createElement("div",null,"Hobbies :")," ",r.a.createElement("div",null,i.hobbies.toString())),r.a.createElement("div",{className:"prop-val"},r.a.createElement("div",null,"facebook :")," ",r.a.createElement("div",null,r.a.createElement("a",{href:i.social?i.social.facebook:""},i.social?i.social.facebook:""))),r.a.createElement("div",{className:"prop-val"},r.a.createElement("div",null,"instagram :")," ",r.a.createElement("div",null,r.a.createElement("a",{href:i.social?i.social.instagram:""},i.social?i.social.instagram:"")))),r.a.createElement("div",{className:"dash-btns"},r.a.createElement(s.b,{className:"dash-nav",to:"/edit-profile"},"Edit profile"),r.a.createElement("button",{onClick:function(){return c()}},"Delete Profile")),r.a.createElement("div",{className:"post-list"},E)):r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"no-profile"},r.a.createElement("p",null,"You have not created a profile yet , go ahead and create one"),r.a.createElement(s.b,{className:"dash-navlink",to:"/create-profile"},"create Profile")))})),C=Object(l.b)((function(e){return{state:e}}),{removeComment:function(e,t){return function(){var a=Object(d.a)(f.a.mark((function a(n){var r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b(localStorage.token),a.next=4,E.a.delete("/api/posts/comments/".concat(e,"/").concat(t));case 4:r=a.sent,n({type:"REMOVE_COMMENT",payload:{postId:e,comments:r.data}}),console.log("from",t),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0.message),n({type:"POST_ERROR"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.admin,a=e.auth,c=e.post_id,o=e.removeComment,l=e.comments,s=l?l.map((function(e){return console.log(e.name),r.a.createElement("div",{className:"comment"},r.a.createElement("img",{className:"img",src:e.avatar,alt:"pic",onClick:function(){return console.log(e.avatar)}}),r.a.createElement("div",{className:"detail"},r.a.createElement("a",{href:"#",className:"name"},e.name),r.a.createElement("span",{className:"text"},e.text.toString()),r.a.createElement("span",{className:"date"},e.date)),a&&t._id?t._id===e.user&&r.a.createElement("div",{className:"dot",onClick:function(){return o(c,e._id)}},"..."):"")})):"";return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"c-container"},s))})),D=Object(l.b)(null,{comment:function(e,t){return function(){var a=Object(d.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b(localStorage.token),r={headers:{"Content-Type":"application/json"}},a.next=5,E.a.post("/api/posts/comments/".concat(t),e,r);case 5:c=a.sent,n({type:"ADD_COMMENT",payload:{id:t,comments:c.data}}),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0.message),n({type:"POST_ERROR"});case 13:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.id,a=e.comment,c=Object(n.useState)(""),o=Object(j.a)(c,2),l=o[0],s=o[1];return r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"cf-form",onSubmit:function(e){return function(e){e.preventDefault(),a({text:l},t),s("")}(e)}},r.a.createElement("div",{className:"cf-div"},r.a.createElement("input",{className:"cf-input",type:"text",name:"text",value:l,onChange:function(e){return s(e.target.value)},placeholder:"write a comment"}),r.a.createElement("button",{type:"submit"},"send"))))})),_=Object(l.b)((function(e){return{posts:e.posts}}),{like:function(e){return function(){var t=Object(d.a)(f.a.mark((function t(a){var n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.put("/api/posts/likes/".concat(e));case 3:n=t.sent,a({type:"UPDATE_LIKES",payload:{id:e,likes:n.data}}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0.message),a({type:"POST_ERROR"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()}})(Object(i.g)((function(e){var t=e.auth,a=e.history,c=e.user,o=e.like,l=e.post,s=l._id,i=l.title,u=l.text,p=l.name,m=l.avatar,f=l.date,d=l.comments,v=l.likes,E=c?v.filter((function(e){return e.user===c._id})):"null",b=Object(n.useState)(!1),h=Object(j.a)(b,2),O=h[0],g=h[1],y=Object(n.useState)(!1),w=Object(j.a)(y,2),P=w[0],k=w[1];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"pc-wrapper"},r.a.createElement("div",{className:"pc-top"},r.a.createElement("img",{height:"50px",src:m,alt:"pic"}),r.a.createElement("span",{className:"title"},i),r.a.createElement("div",{className:"auth-dat"},r.a.createElement("span",{className:"author"},r.a.createElement("i",null,p)),r.a.createElement("span",{className:"date"},new Date(f).toLocaleString()))),r.a.createElement("div",{className:"pc-body"},u),r.a.createElement("div",{className:"pc-counts"},r.a.createElement("span",{className:"li"},"likes:",v.length>0?v.length:""),r.a.createElement("span",{className:"co",onClick:function(){return[g(!O),k(!P)]}},"comments:",d.length>0?d.length:"")),r.a.createElement("div",{className:"pc-buttons"},r.a.createElement("div",{className:"buttons",onClick:function(e){t?o(s):a.push("/login")}},r.a.createElement("span",null,void 0===E[0]||"null"===E.toString()?"like":!0===t?"liked":"like")),r.a.createElement("div",{className:"buttons",onClick:function(){return k(!P)}},"comment"),r.a.createElement("div",{className:"buttons"},"share")),O&&t&&r.a.createElement(C,{auth:t,admin:c,post_id:s,comments:d}),P&&t&&r.a.createElement(D,{id:s})))})));function L(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var T=Object(l.b)(null,{addPost:function(e,t){return function(){var a=Object(d.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b(localStorage.token),r={headers:{"Content-Type":"application/json"}},a.next=5,E.a.post("/api/posts",e,r);case 5:c=a.sent,n({type:"ADD_POST",payload:c.data}),t.push("/posts"),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0.message),n({type:"POST_ERROR"});case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}})(Object(i.g)((function(e){var t=e.addPost,a=e.history,c=Object(n.useState)({title:"",text:""}),o=Object(j.a)(c,2),l=o[0],s=o[1],i=Object(n.useState)(!1),u=Object(j.a)(i,2),p=u[0],m=u[1],f=l.title,d=l.text,v=function(e){s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?L(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):L(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement(n.Fragment,null,r.a.createElement("form",{className:"addpost",onSubmit:function(e){return function(e){e.preventDefault(),t(l,a),m(!p),s({title:"",text:""})}(e)}},r.a.createElement("input",{type:"text",name:"title",placeholder:"   Title",autoComplete:"off",value:f,onChange:function(e){return v(e)},onClick:function(){return m(!p)}}),r.a.createElement("br",null),p&&r.a.createElement(n.Fragment,null,r.a.createElement("textarea",{type:"text",name:"text",rows:"20",placeholder:"    about topic in detail",value:d,onChange:function(e){return v(e)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"}," create post"))))}))),A=function(e){return r.a.createElement("div",{className:"pp-wrapper"},r.a.createElement("div",{className:"pp-top"},r.a.createElement("div",{className:"pp-img"}),r.a.createElement("span",{className:"pp-title"},r.a.createElement("div",null))),r.a.createElement("div",{className:"pp-body"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("div",{className:"pp-counts"},r.a.createElement("div",null)),r.a.createElement("div",{className:"pp-buttons"},r.a.createElement("div",null)))},I=Object(l.b)((function(e){return{posts:e.posts,auth:e.auth}}),{getPosts:S})((function(e){var t=e.getPosts,a=e.posts,c=a.posts,o=a.isLoading,l=e.auth,s=l.isAuthenticated,i=l.user;Object(n.useEffect)((function(){t()}),[]);var u=o?r.a.createElement(n.Fragment,null,r.a.createElement(A,null),r.a.createElement(A,null),r.a.createElement(A,null)):c.map((function(e){return r.a.createElement(n.Fragment,{key:e._id},r.a.createElement(_,{key:e._id,auth:s,user:i,post:e}))}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{class:"main-body"},s&&r.a.createElement(T,null),r.a.createElement("div",{className:"posts"},u)))}));function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var U=Object(l.b)((function(e){return console.log("this is state",e.profile),{profile:e.profile}}),{createProfile:function(e,t){return function(){var a=Object(d.a)(f.a.mark((function a(n){var r,c,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=localStorage.token,b(r),c={headers:{"Content-Type":"application/json"}},a.next=6,E.a.put("/api/profiles",e,c);case 6:o=a.sent,n({type:"CREATE_PROFILE",payload:o.data}),t.push("/dashboard"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.error(a.t0.message),n({type:"PROFILE_ERROR"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}})(Object(i.g)((function(e){var t=e.createProfile,a=e.history,c=Object(n.useState)({role:"",course:"",universityName:"",hobbies:"",facebook:"",instagram:""}),o=Object(j.a)(c,2),l=o[0],s=o[1],i=l.role,u=l.course,p=l.universityName,m=l.hobbies,f=l.facebook,d=l.instagram,v=function(e){s(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},l,Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"create-prof-wrapper"},r.a.createElement("form",{className:"create-profile",onSubmit:function(e){return function(e){e.preventDefault(),t(l,a),console.log("from create profile",l)}(e)}},r.a.createElement(n.Fragment,null,r.a.createElement("select",{name:"role",value:i,onChange:function(e){return v(e)}},r.a.createElement("option",{value:"0"},"Select Role"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Reacher"},"Teacher")),r.a.createElement("select",{name:"course",value:u,onChange:function(e){return v(e)}},r.a.createElement("option",{value:"0"},"choose course"),r.a.createElement("option",{value:"B.A"},"B.A"),r.a.createElement("option",{value:"BSC"},"BSC"))),r.a.createElement("input",{type:"text",name:"universityName",value:p,onChange:function(e){return v(e)},placeholder:"Enter university name"}),r.a.createElement("input",{type:"text",name:"hobbies",value:m,onChange:function(e){return v(e)},placeholder:"Do you have hobbies"}),r.a.createElement("div",null,r.a.createElement("h4",null,"Social network"),r.a.createElement("input",{type:"text",name:"facebook",value:f,onChange:function(e){return v(e)},placeholder:"facebook link"}),r.a.createElement("input",{type:"text",name:"instagram",value:d,onChange:function(e){return v(e)},placeholder:"instagram link"})),r.a.createElement("button",{type:"submit"},"submit")))}))),M=function(e){var t=Object(n.useState)(!0),a=Object(j.a)(t,2),c=a[0],o=a[1];return r.a.createElement("div",{className:"auth"},r.a.createElement("div",{className:"tog-auth"},r.a.createElement("span",{onClick:function(){return o(!0)}},"Login"),r.a.createElement("span",{onClick:function(){return o(!1)}},"Register")),c?r.a.createElement(P,null):r.a.createElement(N,null))},G=a(16),B=a(37),H=a(38);function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var W={token:localStorage.getItem("token"),isAuthenticated:!1,isLoading:!1,user:null};function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var $={profile:"",profiles:[],isLoading:null},q=a(39);function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X={posts:[],post:null,isLoading:!0},Z=Object(G.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return V({},e,{isAuthenticated:!0,isLoading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),V({},e,{},n,{isAuthenticated:!0,isLoading:!1});case"REGISTER_FAIL":case"LOGIN_FAIL":case"AUTH_ERROR":case"LOGOUT":case"ACCOUNT_DELETED":return localStorage.removeItem("token"),V({},e,{token:null,isAuthenticated:!1,isLoading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"CREATE_PROFILE":case"CURRENT_PROFILE":return Y({},e,{profile:n,isLoading:!1});case"PROFILE_ERROR":case"CLEAR_PROFILE":return Y({},e,{profile:null,isLoading:!1});default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_POSTS":return Q({},e,{posts:n,post:null,isLoading:!1});case"ADD_POST":return Q({},e,{posts:[n].concat(Object(q.a)(e.posts)),isLoading:!1});case"UPDATE_LIKES":return Q({},e,{posts:e.posts.map((function(e){return e._id===n.id?Q({},e,{likes:n.likes}):e})),isLoading:!1});case"REMOVE_POST":return Q({},e,{posts:e.posts.filter((function(e){return e._id!==n})),isLoading:!1});case"ADD_COMMENT":return Q({},e,{posts:e.posts.map((function(e){return e._id===n.id?Q({},e,{comments:n.comments}):e}))});case"REMOVE_COMMENT":return Q({},e,{posts:e.posts.map((function(e){return e._id===n.postId?Q({},e,{comments:n.comments}):e}))});default:return e}}}),ee=[H.a],te=Object(G.createStore)(Z,{},Object(B.composeWithDevTools)(G.applyMiddleware.apply(void 0,ee)));function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var ne=Object(l.b)((function(e){return console.log("this is state",e.profile),{profile:e.profile}}),{updateProfile:function(e,t){return function(){var a=Object(d.a)(f.a.mark((function a(n){var r,c;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b(localStorage.token),r={headers:{"Content-Type":"application/json"}},a.next=5,E.a.put("/api/profiles",e,r);case 5:c=a.sent,n({type:"CREATE_PROFILE",payload:c.data}),console.log(c.data),t.push("/dashboard"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),console.error(a.t0.message),n({type:"PROFILE_ERROR"});case 15:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()},getCurrentProfile:R})(Object(i.g)((function(e){var t=e.getCurrentProfile,a=e.updateProfile,c=e.profile,o=c.profile,l=c.isLoading,s=e.history,i=Object(n.useState)({role:"",course:"",universityName:"",hobbies:"",facebook:"",instagram:""}),u=Object(j.a)(i,2),p=u[0],m=u[1],v=p.role,E=p.course,b=p.universityName,h=p.hobbies,O=p.facebook,g=p.instagram;Object(n.useEffect)((function(){console.log("hello there"),t(),m({role:o.role?o.role:"",course:o.course?o.course:"",universityName:o.universityName?o.universityName:"",hobbies:o.hobbies?o.hobbies.toString():"",facebook:o.social?o.social.facebook:"",instagram:o.social?o.social.instagram:""})}),[l,t]);var w=function(e){console.log("changed"),m(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach((function(t){Object(y.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},p,Object(y.a)({},e.target.name,e.target.value)))},P=function(){var e=Object(d.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a(p,s),console.log("from update profile",p);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"edit-profile-wrapper"},r.a.createElement("form",{className:"edit-profile",onSubmit:function(e){return P(e)}},r.a.createElement("select",{name:"role",value:v,onChange:function(e){return w(e)}},r.a.createElement("option",{value:"0"},"Select Role"),r.a.createElement("option",{value:"Student"},"Student"),r.a.createElement("option",{value:"Teacher"},"Teacher")),r.a.createElement("select",{name:"course",value:E,onChange:function(e){return w(e)}},r.a.createElement("option",{value:"0"},"Choose Course"),r.a.createElement("option",{value:"B.A"},"B.A"),r.a.createElement("option",{value:"BSC"},"BSC")),r.a.createElement("input",{className:"inp-uname",type:"text",name:"universityName",value:b,onChange:function(e){return w(e)},placeholder:"Enter university name"}),r.a.createElement("input",{className:"inp-hob",type:"text",name:"hobbies",value:h,onChange:function(e){return w(e)},placeholder:"Do you have hobbies"}),r.a.createElement("div",null,r.a.createElement("h4",null,"Social network"),r.a.createElement("input",{type:"text",name:"facebook",value:O,onChange:function(e){return w(e)},placeholder:"facebook link"}),r.a.createElement("input",{type:"text",name:"instagram",value:g,onChange:function(e){return w(e)},placeholder:"instagram link"})),r.a.createElement("button",{type:"submit"},"submit")))}))),re=function(e){return Object(n.useEffect)((function(){te.dispatch(h())}),[]),r.a.createElement(n.Fragment,null,r.a.createElement(l.a,{store:te},r.a.createElement(s.a,null,r.a.createElement(O,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:g}),r.a.createElement(i.b,{exact:!0,path:"/login",component:P}),r.a.createElement(i.b,{exact:!0,path:"/register",component:N}),r.a.createElement(i.b,{exact:!0,path:"/auth",component:M}),r.a.createElement(i.b,{exact:!0,path:"/posts",component:I}),r.a.createElement(i.b,{exact:!0,path:"/create-profile",component:U}),r.a.createElement(i.b,{exact:!0,path:"/edit-profile",component:ne}),r.a.createElement(p,{exact:!0,path:"/dashboard",component:x}),r.a.createElement(p,{exact:!0,path:"/add-post",component:T})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[41,1,2]]]);
//# sourceMappingURL=main.623fc302.chunk.js.map